<!--
  Generated template for the RecevoirPapierPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{'pub_form.title_2' | translate}}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="close()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

  <ion-toolbar class="custom-toolbar">
    <ion-segment [(ngModel)]="segment" color="primary" (ionChange)="segmentChanged($event)">
      <ion-segment-button value="first">
        {{'report.segment_1' | translate}}
        <!-- Formulaire 1 -->
      </ion-segment-button>
      <ion-segment-button value="second">
        {{'report.segment_2' | translate}}
        <!-- Formulaire 2 -->
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

</ion-header>


<ion-content>
  <div [ngSwitch]="segment">
    <div text-center *ngSwitchCase="'first'">
      <div class="bloc-form">
        <h5 style="font-weight: lighter" text-center>{{'pub_form.entete_2' | translate}}</h5>
        <p></p>
        <ion-list>
          <ion-item transparent>
            <ion-label floating>{{'report.name' | translate}}</ion-label>
            <ion-input *ngIf="!credentials" type="text" [(ngModel)]="aide.name" name="name"></ion-input>
            <ion-input *ngIf="credentials" type="text" [(ngModel)]="credentials.user_display_name" name="nom"></ion-input>
          </ion-item>

          <ion-item transparent>
            <ion-label floating>{{'report.prenom' | translate}}</ion-label>
            <ion-input type="text" [(ngModel)]="aide.prenom" name="prenom"></ion-input>
          </ion-item>
          <ion-item transparent>
            <ion-label floating>{{'report.email' | translate}}</ion-label>
            <ion-input *ngIf="!credentials" type="email" [(ngModel)]="aide.email" name="email"></ion-input>
            <ion-input *ngIf="credentials" type="email" [(ngModel)]="credentials.user_email" name="email"></ion-input>
          </ion-item>

          <ion-item transparent>
            <ion-label floating>{{'report.societe' | translate}}</ion-label>
            <ion-input type="text" [(ngModel)]="aide.company" name="company"></ion-input>
          </ion-item>
          <ion-item transparent>
            <ion-label floating>{{'report.phone' | translate}}</ion-label>
            <ion-input type="number" [(ngModel)]="aide.phonenumber" name="phonenumber"></ion-input>
          </ion-item>
          <!-- <h5 style="font-weight: lighter" text-center>{{'report.indication' | translate}}</h5> -->
        </ion-list>
      </div>
    </div>
    <div text-center *ngSwitchCase="'second'">
      <div>
        <ion-list>
          <ion-item transparent>
            <ion-label stacked>{{'report.message' | translate}}</ion-label>
            <ion-textarea autosize [(ngModel)]="aide.message" name="message" placeholder="{{'report.assist_ph' | translate}}"></ion-textarea>
          </ion-item>
        </ion-list>
      </div>
    </div>
  </div>

</ion-content>
<ion-footer text-center>
  <button ion-button round (click)="next()" *ngIf="actif == false">{{'report.next' | translate}}</button>
  <button ion-button  round *ngIf="actif == true" (click)="back()" >{{'nos_service.back' | translate}}</button>
  <button ion-button round type="submit" (click)="submit()" *ngIf="actif == true">{{'report.assist_btnTxt' | translate}}</button>
</ion-footer>